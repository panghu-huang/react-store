"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react=require("react"),__assign=function(){return(__assign=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Storer=function(){function t(t,e){this.store=t,this.otherActions=e,this.initDevTools(t)}return t.prototype.createContext=function(){return react.createContext(this.store)},t.prototype.createActions=function(){return this.actions||(this.actions=__assign({store:{setStore:function(){}}},this.otherActions)),this.actions},t.prototype.addAction=function(t,e){this.actions[t]=e},t.prototype.removeAction=function(t){return delete this.actions[t]},t.prototype.bindSetStore=function(e){var n=this;this.createActions().store.setStore=function(r,t){e(function(t){var e=t.store,o="function"==typeof r?r(e):r;return n.updateReduxStore&&n.updateReduxStore(o),{store:__assign({},e,o)}},t)}},t.prototype.initDevTools=function(t){var e="development"===process.env.NODE_ENV&&window&&window.__REDUX_DEVTOOLS_EXTENSION__;if(e){var o=this.createActions(),r=e.connect({name:"Storer",features:{jump:!0}});r.init(t),r.subscribe(function(t){switch(t.type){case"DISPATCH":var e=t.payload.type;"JUMP_TO_STATE"!==e&&"JUMP_TO_ACTION"!==e||o.store.setStore(t.state)}}),this.updateReduxStore=function(t){r.send({type:"setStore"},t)}}},t}(),createStorer=function(t,e){return new Storer(t,e||{})};exports.createStorer=createStorer;
